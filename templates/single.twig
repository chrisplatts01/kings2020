{% extends "base.twig" %}

{% block content %}
<main class="page-content">
	<div class="wrapper">
		<div class="post post-type-{{ post.post_type }} grid" id="post-{{ post.ID }}">
			<article class="post__content grid-item grid-item--main-content">
				<h1 class="post-heading">{{ post.title }}</h1>
				<div class="post-body">
					{{post.content}}
				</div>
			</article>
			<div class="post__gallery grid-item grid-item--gallery">
				{% set rows = function('get_field', 'images') %}
				{% for row in rows %}
						{# <!--
						{% for key, value in row %}
							{{ key }} => {{ value }}
						{% endfor %}
						--> #}

					<!-- Image from media library as array -->
					{% if row.type == 'image' %}
						<div class="gallery-item image image--array"><img src="{{ row.url }}" alt="{{ row.alt }}"></div>

					<!-- Video from media library as array -->
					{% elseif row.type == 'video' %}
						<div class="gallery-item video video--array">
							<video controls preload="metadata">
								<source src="{{ row.url }}#t=0.1" type="video/mp4">
								<source src="{{ row.url }}#t=0.1" type="video/webm">
							</video>
						</div>

					<!-- Embedded YouTube|Vimeo video in IFRAME -->
					{% elseif row | slice(0, 7) == '<iframe' %}
						<div class="gallery-item video video--iframe">{{ row }}</div>
					{% endif %}
				{% endfor %}
			</div>
			<div class="post__contact-form grid-item grid-item--contact-form">
				<section class="contact-form">
				  <h1>Contact us</h1>
				  {{ function('do_shortcode', '[contact-form-7 id="115" title="Venture Contact Form"]') }}
				</section>
			</div>
		</div>
	</div>
</main>
{% endblock %}
